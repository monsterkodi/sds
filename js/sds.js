// koffee 1.14.0

/*
 0000000  0000000     0000000
000       000   000  000     
0000000   000   000  0000000 
     000  000   000       000
0000000   0000000    0000000
 */
var args, argsFile, error, extname, file, find, fs, getExtname, handleData, i, karg, kolor, len, noon, outext, pipeData, ref, slash,
    indexOf = [].indexOf;

noon = require('noon');

slash = require('path');

fs = require('fs');

karg = require('karg');

find = require('./find');

kolor = require('klor').kolor;

kolor.globalize();

args = karg("sds\n    file        . ? the file to search in           . *   . = package.json\n    key         . ? key to search            \n    value       . ? value to search\n    path        . ? path to search           \n    format      . ? result format\n    set         . ? set values \n    save        . ? write result back to input file . - S . = false \n    output      . ? the file to write or stdout     . - F     \n    json        . ? parse as json                         . = false\n    noon        . ? parse as noon                         . = false\n    object                                                . = false\n    result                                                . = false\n    colors      . ? output with ansi colors               . = false\n    stdin       . ? read from stdin                       . = false . - i\n    \nformat\n    @k  key\n    @v  value\n    @o  object\n    @p  path\n        \nshortcuts \n    -o  for -f @o\n    -r  for -f @v and no leading empty line\n\nversion     " + (require(__dirname + "/../package.json").version));

error = function(msg) {
    console.log(("\n" + msg + "\n").red);
    return process.exit();
};

extname = '';

outext = '';

handleData = function(data) {
    var colors, get, i, j, k, len, len1, o, out, p, path, ref, ref1, result, s, set, v;
    if ((ref = !data.constructor.name) === 'Array' || ref === 'Object') {
        console.error("no structure in data: " + (bold(yellow(data))));
    }
    colors = args.colors;
    if ((args.output != null) || args.save) {
        colors = false;
    }
    out = function(s) {
        var err, outfile, ref1;
        outfile = (ref1 = args.output) != null ? ref1 : (args.save ? args.file : void 0);
        if (outfile != null) {
            fs.mkdirSync(slash.dirname(outfile), {
                recursive: true
            });
            try {
                return fs.writeFile(outfile, s, 'utf8', function(err) {
                    if (err) {
                        return console.error("can't write " + (bold(yellow(outfile))) + ": " + err);
                    } else {
                        return console.log(gray("wrote " + (bold(white(outfile)))));
                    }
                });
            } catch (error1) {
                err = error1;
                return console.error("can't write " + (bold(yellow(outfile))) + ": " + err);
            }
        } else {
            return console.log(s);
        }
    };
    if (args.set != null) {
        set = require('./set');
        ref1 = noon.parse(args.set);
        for (p in ref1) {
            v = ref1[p];
            set(data, p, v);
        }
        return out(noon.stringify(data, {
            colors: colors,
            ext: outext
        }));
    } else if ((args.key == null) && (args.value == null) && (args.path == null)) {
        s = noon.stringify(data, {
            colors: colors,
            ext: outext
        });
        return out('\n' + s + '\n');
    } else {
        get = require('./get');
        if (!args.result) {
            console.log('');
        }
        result = (args.path != null) && (args.value != null) ? find.pathValue(data, args.path, args.value) : args.path != null ? find.path(data, args.path) : (args.key != null) && (args.value != null) ? find.keyValue(data, args.key, args.value) : args.key != null ? find.key(data, args.key) : find.value(data, args.value);
        if (args.object || args.result || args.format) {
            for (i = 0, len = result.length; i < len; i++) {
                path = result[i];
                p = path.join('.');
                k = path[path.length - 1];
                v = get(data, path);
                if (args.object) {
                    path.pop();
                    s = noon.stringify(get(data, path), {
                        colors: colors
                    });
                } else if (args.result) {
                    s = noon.stringify(v, {
                        colors: colors
                    });
                } else if (args.format) {
                    s = args.format;
                    s = s.replace('@k', k);
                    s = s.replace('@p', p);
                    s = s.replace('@v', noon.stringify(v, {
                        colors: colors
                    }));
                    if (args.format.indexOf('@o') >= 0) {
                        path.pop();
                        if (path.length) {
                            o = noon.stringify(get(data, path), {
                                colors: colors
                            });
                        } else {
                            o = noon.stringify(data, {
                                colors: colors
                            });
                        }
                        s = s.replace('@o', o);
                    }
                } else {
                    o = {};
                    o[p] = v;
                    s = noon.stringify(o, {
                        colors: colors
                    });
                }
                out(s);
            }
        } else {
            o = {};
            for (j = 0, len1 = result.length; j < len1; j++) {
                path = result[j];
                o[path.join('.')] = get(data, path);
            }
            s = noon.stringify(o, {
                colors: colors
            });
            out(s);
        }
        if (!args.result) {
            return out('');
        }
    }
};

pipeData = "";

process.stdin.on('readable', function() {
    var data, ref;
    if (data = (ref = process.stdin.read()) != null ? ref.toString('utf8') : void 0) {
        return pipeData += data;
    }
});

process.stdin.on('end', function() {
    var data, ref, ref1;
    if (args.file === 'package.json') {
        delete args.file;
    }
    if ((args.value == null) && (args.key == null) && (args.path == null)) {
        args.path = args.file;
        args.result = true;
    }
    delete args.file;
    if ((ref = pipeData.trim()[0]) === '{' || ref === '[') {
        extname = '.json';
    } else {
        extname = '.noon';
    }
    outext = (ref1 = args.output) != null ? ref1 : extname;
    data = (function() {
        switch (extname) {
            case '.json':
                return JSON.parse(pipeData);
            default:
                return noon.parse(pipeData);
        }
    })();
    return handleData(data);
});

getExtname = function() {
    var ref;
    extname = args.json ? '.json' : args.noon ? '.noon' : args.file ? slash.extname(args.file) : '.json';
    if (indexOf.call(noon.extnames, extname) < 0) {
        console.error("unknown file type: " + (bold(yellow(extname))) + ". use --json or --noon to force type.");
    }
    outext = extname;
    if (ref = args.output, indexOf.call(noon.extnames, ref) >= 0) {
        outext = args.output;
        return delete args.output;
    }
};

if (process.stdin.isTTY && !args.stdin) {
    if (args.file == null) {
        if (fs.existsSync('./package.json')) {
            args.file = './package.json';
        } else if (fs.existsSync('./package.noon')) {
            args.file = './package.noon';
        } else {
            console.error('no input file provided!');
        }
    } else if (!fs.existsSync(args.file)) {
        argsFile = args.file;
        if ((args.value == null) && (args.key == null) && (args.path == null)) {
            ref = ['./package.json', './package.noon'];
            for (i = 0, len = ref.length; i < len; i++) {
                file = ref[i];
                if (fs.existsSync(file)) {
                    args.result = true;
                    args.path = argsFile;
                    args.file = file;
                    break;
                }
            }
        }
        if (argsFile === args.file) {
            console.error("can't find file: " + (bold(yellow(args.file))));
        }
    }
    getExtname();
    handleData(noon.load(args.file, extname));
    process.exit(0);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RzLmpzIiwic291cmNlUm9vdCI6Ii4uL2NvZmZlZSIsInNvdXJjZXMiOlsic2RzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQSwrSEFBQTtJQUFBOztBQVVBLElBQUEsR0FBUyxPQUFBLENBQVEsTUFBUjs7QUFDVCxLQUFBLEdBQVMsT0FBQSxDQUFRLE1BQVI7O0FBQ1QsRUFBQSxHQUFTLE9BQUEsQ0FBUSxJQUFSOztBQUNULElBQUEsR0FBUyxPQUFBLENBQVEsTUFBUjs7QUFDVCxJQUFBLEdBQVMsT0FBQSxDQUFRLFFBQVI7O0FBQ1QsS0FBQSxHQUFTLE9BQUEsQ0FBUSxNQUFSLENBQWUsQ0FBQzs7QUFDekIsS0FBSyxDQUFDLFNBQU4sQ0FBQTs7QUFRQSxJQUFBLEdBQU8sSUFBQSxDQUFLLGcvQkFBQSxHQTJCQyxDQUFDLE9BQUEsQ0FBVyxTQUFELEdBQVcsa0JBQXJCLENBQXVDLENBQUMsT0FBekMsQ0EzQk47O0FBb0NQLEtBQUEsR0FBUSxTQUFDLEdBQUQ7SUFDTCxPQUFBLENBQUMsR0FBRCxDQUFLLENBQUMsSUFBQSxHQUFLLEdBQUwsR0FBUyxJQUFWLENBQWUsQ0FBQyxHQUFyQjtXQUNDLE9BQU8sQ0FBQyxJQUFSLENBQUE7QUFGSTs7QUFJUixPQUFBLEdBQVU7O0FBQ1YsTUFBQSxHQUFVOztBQVFWLFVBQUEsR0FBYSxTQUFDLElBQUQ7QUFFVCxRQUFBO0lBQUEsV0FBRyxDQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBckIsS0FBOEIsT0FBOUIsSUFBQSxHQUFBLEtBQXNDLFFBQXpDO1FBQ0csT0FBQSxDQUFDLEtBQUQsQ0FBTyx3QkFBQSxHQUF3QixDQUFDLElBQUEsQ0FBSyxNQUFBLENBQU8sSUFBUCxDQUFMLENBQUQsQ0FBL0IsRUFESDs7SUFTQSxNQUFBLEdBQVMsSUFBSSxDQUFDO0lBQ2QsSUFBa0IscUJBQUEsSUFBZ0IsSUFBSSxDQUFDLElBQXZDO1FBQUEsTUFBQSxHQUFTLE1BQVQ7O0lB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cEM7SUFFSSxJQUFPLGlCQUFQO1FBQ0ksSUFBRyxFQUFFLENBQUMsVUFBSCxDQUFjLGdCQUFkLENBQUg7WUFDSSxJQUFJLENBQUMsSUFBTCxHQUFZLGlCQURoQjtTQUFBLE1BRUssSUFBRyxFQUFFLENBQUMsVUFBSCxDQUFjLGdCQUFkLENBQUg7WUFDRCxJQUFJLENBQUMsSUFBTCxHQUFZLGlCQURYO1NBQUEsTUFBQTtZQUdGLE9BQUEsQ0FBQyxLQUFELENBQU8seUJBQVAsRUFIRTtTQUhUO0tBQUEsTUFPSyxJQUFHLENBQUksRUFBRSxDQUFDLFVBQUgsQ0FBYyxJQUFJLENBQUMsSUFBbkIsQ0FBUDtRQUNELFFBQUEsR0FBVyxJQUFJLENBQUM7UUFDaEIsSUFBSSxvQkFBRCxJQUFrQixrQkFBbEIsSUFBaUMsbUJBQXBDO0FBQ0k7QUFBQSxpQkFBQSxxQ0FBQTs7Z0JBQ0ksSUFBRyxFQUFFLENBQUMsVUFBSCxDQUFjLElBQWQsQ0FBSDtvQkFDSSxJQUFJLENBQUMsTUFBTCxHQUFjO29CQUNkLElBQUksQ0FBQyxJQUFMLEdBQWM7b0JBQ2QsSUFBSSxDQUFDLElBQUwsR0FBYztBQUNkLDBCQUpKOztBQURKLGFBREo7O1FBT0EsSUFBRyxRQUFBLEtBQVksSUFBSSxDQUFDLElBQXBCO1lBQ0csT0FBQSxDQUFDLEtBQUQsQ0FBTyxtQkFBQSxHQUFtQixDQUFDLElBQUEsQ0FBSyxNQUFBLENBQU8sSUFBSSxDQUFDLElBQVosQ0FBTCxDQUFELENBQTFCLEVBREg7U0FUQzs7SUFZTCxVQUFBLENBQUE7SUFFQSxVQUFBLENBQVcsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFJLENBQUMsSUFBZixFQUFxQixPQUFyQixDQUFYO0lBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFiLEVBeEJKIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4gMDAwMDAwMCAgMDAwMDAwMCAgICAgMDAwMDAwMFxuMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICBcbjAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgXG4gICAgIDAwMCAgMDAwICAgMDAwICAgICAgIDAwMFxuMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMCBcbiMjI1xuXG4jIOKWuHN0YXJ0ICdzZHMnXG5cbm5vb24gICA9IHJlcXVpcmUgJ25vb24nXG5zbGFzaCAgPSByZXF1aXJlICdwYXRoJ1xuZnMgICAgID0gcmVxdWlyZSAnZnMnXG5rYXJnICAgPSByZXF1aXJlICdrYXJnJ1xuZmluZCAgID0gcmVxdWlyZSAnLi9maW5kJ1xua29sb3IgID0gcmVxdWlyZSgna2xvcicpLmtvbG9yXG5rb2xvci5nbG9iYWxpemUoKVxuXG4jICAwMDAwMDAwICAgMDAwMDAwMDAgICAgMDAwMDAwMCAgICAwMDAwMDAwXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgXG4jIDAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgIDAwMDAgIDAwMDAwMDAgXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgICAgMDAwXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgXG5cbmFyZ3MgPSBrYXJnIFwiXCJcIlxuc2RzXG4gICAgZmlsZSAgICAgICAgLiA/IHRoZSBmaWxlIHRvIHNlYXJjaCBpbiAgICAgICAgICAgLiAqICAgLiA9IHBhY2thZ2UuanNvblxuICAgIGtleSAgICAgICAgIC4gPyBrZXkgdG8gc2VhcmNoICAgICAgICAgICAgXG4gICAgdmFsdWUgICAgICAgLiA/IHZhbHVlIHRvIHNlYXJjaFxuICAgIHBhdGggICAgICAgIC4gPyBwYXRoIHRvIHNlYXJjaCAgICAgICAgICAgXG4gICAgZm9ybWF0ICAgICAgLiA/IHJlc3VsdCBmb3JtYXRcbiAgICBzZXQgICAgICAgICAuID8gc2V0IHZhbHVlcyBcbiAgICBzYXZlICAgICAgICAuID8gd3JpdGUgcmVzdWx0IGJhY2sgdG8gaW5wdXQgZmlsZSAuIC0gUyAuID0gZmFsc2UgXG4gICAgb3V0cHV0ICAgICAgLiA/IHRoZSBmaWxlIHRvIHdyaXRlIG9yIHN0ZG91dCAgICAgLiAtIEYgICAgIFxuICAgIGpzb24gICAgICAgIC4gPyBwYXJzZSBhcyBqc29uICAgICAgICAgICAgICAgICAgICAgICAgIC4gPSBmYWxzZVxuICAgIG5vb24gICAgICAgIC4gPyBwYXJzZSBhcyBub29uICAgICAgICAgICAgICAgICAgICAgICAgIC4gPSBmYWxzZVxuICAgIG9iamVjdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gPSBmYWxzZVxuICAgIHJlc3VsdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gPSBmYWxzZVxuICAgIGNvbG9ycyAgICAgIC4gPyBvdXRwdXQgd2l0aCBhbnNpIGNvbG9ycyAgICAgICAgICAgICAgIC4gPSBmYWxzZVxuICAgIHN0ZGluICAgICAgIC4gPyByZWFkIGZyb20gc3RkaW4gICAgICAgICAgICAgICAgICAgICAgIC4gPSBmYWxzZSAuIC0gaVxuICAgIFxuZm9ybWF0XG4gICAgQGsgIGtleVxuICAgIEB2ICB2YWx1ZVxuICAgIEBvICBvYmplY3RcbiAgICBAcCAgcGF0aFxuICAgICAgICBcbnNob3J0Y3V0cyBcbiAgICAtbyAgZm9yIC1mIEBvXG4gICAgLXIgIGZvciAtZiBAdiBhbmQgbm8gbGVhZGluZyBlbXB0eSBsaW5lXG5cbnZlcnNpb24gICAgICN7cmVxdWlyZShcIiN7X19kaXJuYW1lfS8uLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbn1cblwiXCJcIlxuXG4jIDAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMCBcbiMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMFxuIyAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgXG4jIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDBcbiMgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMFxuXG5lcnJvciA9IChtc2cpIC0+XG4gICAgbG9nIChcIlxcblwiK21zZytcIlxcblwiKS5yZWRcbiAgICBwcm9jZXNzLmV4aXQoKVxuICAgIFxuZXh0bmFtZSA9ICcnXG5vdXRleHQgID0gJydcbiAgICBcbiMgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAgICAgICAwMDAwMDAwMCAgMDAwMDAwMCAgICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICBcbiMgMDAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMCAwIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwMDAgICAgIDAwMCAgICAgMDAwMDAwMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICBcblxuaGFuZGxlRGF0YSA9IChkYXRhKSAtPlxuICAgICAgICAgICAgXG4gICAgaWYgbm90IGRhdGEuY29uc3RydWN0b3IubmFtZSBpbiBbJ0FycmF5JyAnT2JqZWN0J11cbiAgICAgICAgZXJyb3IgXCJubyBzdHJ1Y3R1cmUgaW4gZGF0YTogI3tib2xkIHllbGxvdyBkYXRhfVwiXG4gICAgXG4gICAgIyAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgXG4gICAgIyAgMDAwMDAwMCAgICAwMDAwMDAwICAgICAgMDAwICAgXG4gICAgXG4gICAgY29sb3JzID0gYXJncy5jb2xvcnNcbiAgICBjb2xvcnMgPSBmYWxzZSBpZiBhcmdzLm91dHB1dD8gb3IgYXJncy5zYXZlXG4gICAgXG4gICAgb3V0ID0gKHMpIC0+XG4gICAgICAgIFxuICAgICAgICBvdXRmaWxlID0gYXJncy5vdXRwdXQgPyAoYXJncy5maWxlIGlmIGFyZ3Muc2F2ZSlcbiAgICAgICAgXG4gICAgICAgIGlmIG91dGZpbGU/XG4gICAgICAgICAgICBmcy5ta2RpclN5bmMgc2xhc2guZGlybmFtZShvdXRmaWxlKSwgcmVjdXJzaXZlOnRydWVcbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAgICAgIGZzLndyaXRlRmlsZSBvdXRmaWxlLCBzLCAndXRmOCcsIChlcnIpIC0+XG4gICAgICAgICAgICAgICAgICAgIGlmIGVyclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgXCJjYW4ndCB3cml0ZSAje2JvbGQgeWVsbG93IG91dGZpbGV9OiAje2Vycn1cIlxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2cgZ3JheSBcIndyb3RlICN7Ym9sZCB3aGl0ZSBvdXRmaWxlfVwiXG4gICAgICAgICAgICBjYXRjaCBlcnJcbiAgICAgICAgICAgICAgICBlcnJvciBcImNhbid0IHdyaXRlICN7Ym9sZCB5ZWxsb3cgb3V0ZmlsZX06ICN7ZXJyfVwiXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxvZyBzXG4gICAgXG4gICAgaWYgYXJncy5zZXQ/XG4gICAgICAgIFxuICAgICAgICAjICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwMDAwMDAwXG4gICAgICAgICMgMDAwICAgICAgIDAwMCAgICAgICAgICAwMDAgICBcbiAgICAgICAgIyAwMDAwMDAwICAgMDAwMDAwMCAgICAgIDAwMCAgIFxuICAgICAgICAjICAgICAgMDAwICAwMDAgICAgICAgICAgMDAwICAgXG4gICAgICAgICMgMDAwMDAwMCAgIDAwMDAwMDAwICAgICAwMDAgICBcbiAgICAgICAgXG4gICAgICAgIHNldCA9IHJlcXVpcmUgJy4vc2V0J1xuICAgICAgICBcbiAgICAgICAgZm9yIHAsdiBvZiBub29uLnBhcnNlIGFyZ3Muc2V0XG4gICAgICAgICAgICBzZXQgZGF0YSwgcCwgdlxuICAgICAgICAgICAgXG4gICAgICAgIG91dCBub29uLnN0cmluZ2lmeSBkYXRhLCBjb2xvcnM6Y29sb3JzLCBleHQ6b3V0ZXh0XG4gICAgICAgICAgICBcbiAgICBlbHNlIGlmIG5vdCBhcmdzLmtleT8gYW5kIG5vdCBhcmdzLnZhbHVlPyBhbmQgbm90IGFyZ3MucGF0aD9cbiAgICBcbiAgICAgICAgIyAwMDAgICAgICAwMDAgICAwMDAwMDAwICAwMDAwMDAwMDBcbiAgICAgICAgIyAwMDAgICAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICBcbiAgICAgICAgIyAwMDAgICAgICAwMDAgIDAwMDAwMDAgICAgICAwMDAgICBcbiAgICAgICAgIyAwMDAgICAgICAwMDAgICAgICAgMDAwICAgICAwMDAgICBcbiAgICAgICAgIyAwMDAwMDAwICAwMDAgIDAwMDAwMDAgICAgICAwMDAgICBcbiAgICAgICAgXG4gICAgICAgIHMgPSBub29uLnN0cmluZ2lmeSBkYXRhLCBjb2xvcnM6Y29sb3JzLCBleHQ6b3V0ZXh0XG4gICAgICAgIG91dCAnXFxuJytzKydcXG4nXG4gICAgICAgIFxuICAgIGVsc2UgICAgICBcbiAgICAgICAgXG4gICAgICAgICMgIDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuICAgICAgICAjIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDBcbiAgICAgICAgIyAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgICAgICAgMDAwMDAwMDAwXG4gICAgICAgICMgICAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMFxuICAgICAgICAjIDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAwMDAgICAwMDBcbiAgICAgICAgICBcbiAgICAgICAgZ2V0ID0gcmVxdWlyZSAnLi9nZXQnXG4gICAgICAgICAgXG4gICAgICAgIGlmIG5vdCBhcmdzLnJlc3VsdFxuICAgICAgICAgICAgbG9nICcnXG4gICAgICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0gXG4gICAgICAgICAgICBpZiBhcmdzLnBhdGg/IGFuZCBhcmdzLnZhbHVlP1xuICAgICAgICAgICAgICAgIGZpbmQucGF0aFZhbHVlIGRhdGEsIGFyZ3MucGF0aCwgYXJncy52YWx1ZVxuICAgICAgICAgICAgZWxzZSBpZiBhcmdzLnBhdGg/XG4gICAgICAgICAgICAgICAgZmluZC5wYXRoIGRhdGEsIGFyZ3MucGF0aFxuICAgICAgICAgICAgZWxzZSBpZiBhcmdzLmtleT8gYW5kIGFyZ3MudmFsdWU/XG4gICAgICAgICAgICAgICAgZmluZC5rZXlWYWx1ZSBkYXRhLCBhcmdzLmtleSwgYXJncy52YWx1ZVxuICAgICAgICAgICAgZWxzZSBpZiBhcmdzLmtleT9cbiAgICAgICAgICAgICAgICBmaW5kLmtleSBkYXRhLCBhcmdzLmtleVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGZpbmQudmFsdWUgZGF0YSwgYXJncy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIGFyZ3Mub2JqZWN0IG9yIGFyZ3MucmVzdWx0IG9yIGFyZ3MuZm9ybWF0XG4gICAgICAgICAgICBmb3IgcGF0aCBpbiByZXN1bHRcbiAgICAgICAgICAgICAgICBwID0gcGF0aC5qb2luICcuJ1xuICAgICAgICAgICAgICAgIGsgPSBwYXRoW3BhdGgubGVuZ3RoLTFdXG4gICAgICAgICAgICAgICAgdiA9IGdldCBkYXRhLCBwYXRoXG4gICAgXG4gICAgICAgICAgICAgICAgaWYgYXJncy5vYmplY3RcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wb3AoKVxuICAgICAgICAgICAgICAgICAgICBzID0gbm9vbi5zdHJpbmdpZnkgZ2V0KGRhdGEsIHBhdGgpLCBjb2xvcnM6Y29sb3JzXG4gICAgICAgICAgICAgICAgZWxzZSBpZiBhcmdzLnJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBzID0gbm9vbi5zdHJpbmdpZnkgdiwgY29sb3JzOiBjb2xvcnNcbiAgICAgICAgICAgICAgICBlbHNlIGlmIGFyZ3MuZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIHMgPSBhcmdzLmZvcm1hdFxuICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlICdAaycsIGtcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSAnQHAnLCBwXG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UgJ0B2Jywgbm9vbi5zdHJpbmdpZnkgdiwgY29sb3JzOmNvbG9yc1xuICAgICAgICAgICAgICAgICAgICBpZiBhcmdzLmZvcm1hdC5pbmRleE9mKCdAbycpID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBhdGgubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IG5vb24uc3RyaW5naWZ5IGdldChkYXRhLCBwYXRoKSwgY29sb3JzOmNvbG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBub29uLnN0cmluZ2lmeSBkYXRhLCBjb2xvcnM6Y29sb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlICdAbycsIG9cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG8gPSB7fVxuICAgICAgICAgICAgICAgICAgICBvW3BdID0gdlxuICAgICAgICAgICAgICAgICAgICBzID0gbm9vbi5zdHJpbmdpZnkgbywgY29sb3JzOmNvbG9yc1xuICAgICAgICAgICAgICAgIG91dCBzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG8gPSB7fVxuICAgICAgICAgICAgZm9yIHBhdGggaW4gcmVzdWx0XG4gICAgICAgICAgICAgICAgb1twYXRoLmpvaW4oJy4nKV0gPSBnZXQgZGF0YSwgcGF0aFxuICAgICAgICAgICAgcyA9IG5vb24uc3RyaW5naWZ5IG8sIGNvbG9yczpjb2xvcnNcbiAgICAgICAgICAgIG91dCBzXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgbm90IGFyZ3MucmVzdWx0XG4gICAgICAgICAgICBvdXQgJydcblxuIyAwMDAwMDAwMCAgIDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwMCAgXG4jIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiMgMDAwMDAwMDAgICAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIFxuIyAwMDAgICAgICAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgXG4jIDAwMCAgICAgICAgMDAwICAwMDAgICAgICAgIDAwMDAwMDAwICBcblxucGlwZURhdGEgPSBcIlwiXG5wcm9jZXNzLnN0ZGluLm9uICdyZWFkYWJsZScgLT5cbiAgICBpZiBkYXRhID0gcHJvY2Vzcy5zdGRpbi5yZWFkKCk/LnRvU3RyaW5nICd1dGY4J1xuICAgICAgICBwaXBlRGF0YSArPSBkYXRhXG4gICAgICAgIFxucHJvY2Vzcy5zdGRpbi5vbiAnZW5kJyAtPiBcblxuICAgIGlmIGFyZ3MuZmlsZSA9PSAncGFja2FnZS5qc29uJyB0aGVuIGRlbGV0ZSBhcmdzLmZpbGUgXG4gICAgaWYgbm90IGFyZ3MudmFsdWU/IGFuZCBub3QgYXJncy5rZXk/IGFuZCBub3QgYXJncy5wYXRoP1xuICAgICAgICBhcmdzLnBhdGggPSBhcmdzLmZpbGVcbiAgICAgICAgYXJncy5yZXN1bHQgPSB0cnVlXG4gICAgZGVsZXRlIGFyZ3MuZmlsZVxuICAgIFxuICAgIGlmIHBpcGVEYXRhLnRyaW0oKVswXSBpbiBbJ3snJ1snXSB0aGVuIGV4dG5hbWUgPSAnLmpzb24nXG4gICAgZWxzZSBleHRuYW1lID0gJy5ub29uJ1xuICAgIG91dGV4dCA9IGFyZ3Mub3V0cHV0ID8gZXh0bmFtZVxuICAgIFxuICAgIGRhdGEgPSBzd2l0Y2ggZXh0bmFtZVxuICAgICAgICB3aGVuICcuanNvbicgdGhlbiBKU09OLnBhcnNlIHBpcGVEYXRhXG4gICAgICAgIGVsc2Ugbm9vbi5wYXJzZSBwaXBlRGF0YVxuXG4gICAgaGFuZGxlRGF0YSBkYXRhXG5cbiMgMDAwMDAwMDAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIFxuIyAwMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgXG4jIDAwMDAwMCAgICAwMDAgIDAwMCAgICAgIDAwMDAwMDAgICBcbiMgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuIyAwMDAgICAgICAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgXG5cbmdldEV4dG5hbWUgPSAtPlxuICAgIGV4dG5hbWUgPSAgICAgXG4gICAgICAgIGlmICAgICAgYXJncy5qc29uIHRoZW4gJy5qc29uJ1xuICAgICAgICBlbHNlIGlmIGFyZ3Mubm9vbiB0aGVuICcubm9vbidcbiAgICAgICAgZWxzZSBpZiBhcmdzLmZpbGUgdGhlbiBzbGFzaC5leHRuYW1lIGFyZ3MuZmlsZVxuICAgICAgICBlbHNlICAgICcuanNvbidcbiAgICAgICAgXG4gICAgaWYgZXh0bmFtZSBub3QgaW4gbm9vbi5leHRuYW1lc1xuICAgICAgICBlcnJvciBcInVua25vd24gZmlsZSB0eXBlOiAje2JvbGQgeWVsbG93IGV4dG5hbWV9LiB1c2UgLS1qc29uIG9yIC0tbm9vbiB0byBmb3JjZSB0eXBlLlwiXG4gICAgXG4gICAgb3V0ZXh0ID0gZXh0bmFtZVxuICAgIGlmIGFyZ3Mub3V0cHV0IGluIG5vb24uZXh0bmFtZXNcbiAgICAgICAgb3V0ZXh0ID0gYXJncy5vdXRwdXRcbiAgICAgICAgZGVsZXRlIGFyZ3Mub3V0cHV0XG5cbmlmIHByb2Nlc3Muc3RkaW4uaXNUVFkgYW5kIG5vdCBhcmdzLnN0ZGluXG4gICAgXG4gICAgaWYgbm90IGFyZ3MuZmlsZT9cbiAgICAgICAgaWYgZnMuZXhpc3RzU3luYyAnLi9wYWNrYWdlLmpzb24nXG4gICAgICAgICAgICBhcmdzLmZpbGUgPSAnLi9wYWNrYWdlLmpzb24nXG4gICAgICAgIGVsc2UgaWYgZnMuZXhpc3RzU3luYyAnLi9wYWNrYWdlLm5vb24nXG4gICAgICAgICAgICBhcmdzLmZpbGUgPSAnLi9wYWNrYWdlLm5vb24nXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVycm9yICdubyBpbnB1dCBmaWxlIHByb3ZpZGVkISdcbiAgICBlbHNlIGlmIG5vdCBmcy5leGlzdHNTeW5jIGFyZ3MuZmlsZVxuICAgICAgICBhcmdzRmlsZSA9IGFyZ3MuZmlsZVxuICAgICAgICBpZiAhYXJncy52YWx1ZT8gYW5kICFhcmdzLmtleT8gYW5kICFhcmdzLnBhdGg/ICAgIFxuICAgICAgICAgICAgZm9yIGZpbGUgaW4gWycuL3BhY2thZ2UuanNvbicsICcuL3BhY2thZ2Uubm9vbiddXG4gICAgICAgICAgICAgICAgaWYgZnMuZXhpc3RzU3luYyBmaWxlXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucmVzdWx0ID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBhcmdzLnBhdGggICA9IGFyZ3NGaWxlXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuZmlsZSAgID0gZmlsZVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICBpZiBhcmdzRmlsZSA9PSBhcmdzLmZpbGVcbiAgICAgICAgICAgIGVycm9yIFwiY2FuJ3QgZmluZCBmaWxlOiAje2JvbGQgeWVsbG93IGFyZ3MuZmlsZX1cIlxuICAgIFxuICAgIGdldEV4dG5hbWUoKVxuICAgICAgICAgICAgXG4gICAgaGFuZGxlRGF0YSBub29uLmxvYWQgYXJncy5maWxlLCBleHRuYW1lXG4gICAgcHJvY2Vzcy5leGl0IDBcbiAgICBcbiMg4pa4ZW5kICdzZHMnXG4iXX0=
//# sourceURL=../coffee/sds.coffee